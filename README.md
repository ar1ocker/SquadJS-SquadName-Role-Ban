# SquadJS-SquadName-Role-Band

Плагин для SquadJS который разрешает или запрещает определенные роли в отряде исходя из тегов, которые заданы в имени сквада или заданы вручную сквадным через команду

## Логика работы

```
Префикс чтобы разрешить: +
Префикс чтобы запретить: -
```

Пример тегов:

```
ТрубыСтрелкиМедики, тсм - Трубы, стрелки, медики, саперы, водители
Снайперы, педики, сн - Снайперы и марксманы
Пулеметчики, пм - Пулеметчики и тяжелые пулеметчики
```

Примеры названий отрядов:

```
Нубы +трубыстрелкимедики - разрешит только трубы, стрелков, медиков, саперов, водителей
-снайперы ДРГ - запретит только снайперов и марксманов
+ТСМ +ПМ - разрешит только трубы, стрелков, медиков, саперов, водителей И пулеметчиков
НАЗВАНИЕСКВАДА -ТрубыСтрелкиМедики - ЗАПРЕТИТ трубы, стрелков, медиков, саперов, водителей
-снайперы -пулеметчики - запретит только снайперов, марксманов и пулеметчиков, в общем то аналог +ТСМ
```

Когда и на кого это НЕ работает:

```
Если вы сквадной
Если отряд закрыт
Если закрыть отряд и открыть снова (мало ли когда пригодится), спам прекратится до смены роли
```

## Доступные команды

Текущий теги сквада - !tags
Установить теги - !tags ТЕГИ С + ИЛИ -
Удалить все теги - !tags clear
Помощь и список тегов - !tags help

Например, команда !tags +tsm +pm разрешит в вашем отряде роли: Трубы, стрелки, медики, инженеры, водители, пулеметчики

## Пример настройки
```
{
  "plugin": "SquadNameRoleBan",
  "enabled": true,
  "tags_settings": [
      {
        "readable_name": "Трубы, стрелки, медики",
        "tags": ["тсм", "трубыстрелкимедики", "tcm", "tsm"],
        "role_regex": ".*(Rifleman|HAT|LAT|Medic|Crewman|Engineer|Sapper).*"
      },
      {
        "readable_name": "Снайперы",
        "tags": ["сн", "снайперы", "sn", "sniper"],
        "role_regex": ".*(Sniper|Marksman).*"
      },
      {
        "readable_name": "Пулеметчики",
        "tags": ["пм", "пулеметчики", "pm", "mg"],
        "role_regex": ".*(AR|MachineGunner).*"
      }
  ],
  "warn_interval": 7,
  "main_command": "tags"
},
```

Для работы нужен патч на SquadJS который добавит новые эмиты
[https://github.com/ar1ocker/SquadJS-Random-Patches](https://github.com/ar1ocker/SquadJS-Random-Patches)
